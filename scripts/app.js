!function(){"use strict";var t="undefined"!=typeof window?window:global;if("function"!=typeof t.require){var n={},e={},r=function(t,n){return{}.hasOwnProperty.call(t,n)},a=function(t,n){var e,r,a=[];e=/^\.\.?(\/|$)/.test(n)?[t,n].join("/").split("/"):n.split("/");for(var i=0,u=e.length;u>i;i++)r=e[i],".."===r?a.pop():"."!==r&&""!==r&&a.push(r);return a.join("/")},i=function(t){return t.split("/").slice(0,-1).join("/")},u=function(n){return function(e){var r=i(n),u=a(r,e);return t.require(u,n)}},o=function(t,n){var r={id:t,exports:{}};return e[t]=r,n(r.exports,u(t),r),r.exports},f=function(t,i){var u=a(t,".");if(null==i&&(i="/"),r(e,u))return e[u].exports;if(r(n,u))return o(u,n[u]);var f=a(u,"./index");if(r(e,f))return e[f].exports;if(r(n,f))return o(f,n[f]);throw new Error('Cannot find module "'+t+'" from '+'"'+i+'"')},c=function(t,e){if("object"==typeof t)for(var a in t)r(t,a)&&(n[a]=t[a]);else n[t]=e},s=function(){var t=[];for(var e in n)r(n,e)&&t.push(e);return t};t.require=f,t.require.define=c,t.require.register=c,t.require.list=s,t.require.brunch=!0}}();var init,map;map={width:960,height:580,scheme:colorbrewer.YlOrRd[9],color:function(){return map.scheme[Math.floor(Math.random()*map.scheme.length)]},draw:function(t,n){var e,r,a;return console.log(n),r=d3.geo.naturalEarth().scale(map.width/5).translate([map.width/2.2,map.height/1.7]).precision(.1),map.path=d3.geo.path().projection(r),map.svg=d3.select(t).append("svg").attr("width",map.width).attr("height",map.height),a=map.svg.append("g").attr("class","countries").selectAll("path").data(topojson.feature(n,n.objects.subunits).features),a.enter().append("path").attr("class","country").style("fill",function(t){return map.color(t)}).attr("d",map.path).append("title").text(function(t){return t.properties.name}),e=topojson.mesh(n,n.objects.subunits,function(t,n){return t!==n}),map.svg.insert("path").datum(e).attr("class","boundary").attr("d",map.path)}},init=function(t,n){return console.log(n),map.draw("#map",n)},queue().defer(d3.json,"geo/countries.topo.json").await(init);